@{
    var grid = Html.DevExpress().GridView(settings => {
        settings.Name = "TemplateDriverpayGridView";
        settings.CallbackRouteValues = new { Controller = "Templates", Action = "TemplateDriverPayGridViewPartial" };

        settings.SettingsEditing.AddNewRowRouteValues = new { Controller = "Templates", Action = "TemplateDriverPayGridViewPartialAddNew" };
        settings.SettingsEditing.UpdateRowRouteValues = new { Controller = "Templates", Action = "TemplateDriverPayGridViewPartialUpdate" };
        settings.SettingsEditing.DeleteRowRouteValues = new { Controller = "Templates", Action = "TemplateDriverPayGridViewPartialDelete" };
        settings.SettingsEditing.Mode = GridViewEditingMode.EditFormAndDisplayRow;
        settings.SettingsBehavior.ConfirmDelete = true;

        settings.CommandColumn.Visible = true;
        settings.CommandColumn.ShowNewButton = true;
        settings.CommandColumn.ShowDeleteButton = true;
        settings.CommandColumn.ShowEditButton = true;

        settings.KeyFieldName = "ID";

        settings.SettingsPager.Visible = true;
        settings.Settings.ShowGroupPanel = true;
        settings.Settings.ShowFilterRow = true;
        settings.SettingsBehavior.AllowSelectByRowClick = true;

        settings.SettingsAdaptivity.AdaptivityMode = GridViewAdaptivityMode.Off;
        settings.SettingsAdaptivity.AdaptiveColumnPosition = GridViewAdaptiveColumnPosition.Right;
        settings.SettingsAdaptivity.AdaptiveDetailColumnCount = 1;
        settings.SettingsAdaptivity.AllowOnlyOneAdaptiveDetailExpanded = false;
        settings.SettingsAdaptivity.HideDataCellsAtWindowInnerWidth = 0;

        //settings.Columns.Add("ID");
        //settings.Columns.Add("TemplateName");
        //settings.Columns.Add("RowOrder");
        //settings.Columns.Add("ToDispatch");
        //settings.Columns.Add("ActiveLeg");
        //settings.Columns.Add("TypeOfLoad");
        //settings.Columns.Add("PayType");
        //settings.Columns.Add("DispatchNotes");
        //settings.Columns.Add("ApptTime");
        //settings.Columns.Add("DetentionStarts");
        //settings.Columns.Add("DepartTime");
        ////settings.Columns.Add("DriverRowID");
        ////settings.Columns.Add("DriverType");
        //settings.Columns.Add("TruckNum");
        //settings.Columns.Add("TruckPayPct");
        //settings.Columns.Add("FSDeductionPct");
        //settings.Columns.Add("Origin");
        //settings.Columns.Add("Destination");
        //settings.Columns.Add("Duration");
        //settings.Columns.Add("POD");
        //settings.Columns.Add("BOL");

        settings.Columns.Add(column =>
        {
            column.FieldName = "ToDispatch";
            column.ColumnType = MVCxGridViewColumnType.CheckBox;
            column.Settings.AutoFilterCondition = AutoFilterCondition.Equals;
            column.HeaderStyle.Wrap = DefaultBoolean.True;
            column.HeaderStyle.HorizontalAlign = System.Web.UI.WebControls.HorizontalAlign.Center;
        });

        settings.Columns.Add(column =>
        {
            column.FieldName = "ActiveLeg";
            column.ColumnType = MVCxGridViewColumnType.CheckBox;
            column.Settings.AutoFilterCondition = AutoFilterCondition.Equals;
            column.HeaderStyle.Wrap = DefaultBoolean.True;
            column.HeaderStyle.HorizontalAlign = System.Web.UI.WebControls.HorizontalAlign.Center;
        });

        settings.Columns.Add(column =>
        {

            column.FieldName = "TypeOfLoad";
            column.Caption = "TypeOfLoad";

            column.ColumnType = MVCxGridViewColumnType.ComboBox;
            var comboBoxProperties = column.PropertiesEdit as ComboBoxProperties;
           
            comboBoxProperties.DataSource = ViewBag.TypeOfLoad;

            comboBoxProperties.ValueType = typeof(string);


        });
        settings.Columns.Add(column =>
        {
            column.FieldName = "Duration";
            column.UnboundType = DevExpress.Data.UnboundColumnType.Integer;
            column.PropertiesEdit.DisplayFormatString = "c";
        });

        settings.Columns.Add("Driver");

        settings.Columns.Add("DispatchNotes");
        settings.Columns.Add(column =>
        {
            column.FieldName = "ApptTime";
            column.Caption = "ApptTime";

            column.ColumnType = MVCxGridViewColumnType.DateEdit;
            var comboBoxProperties = column.PropertiesEdit as ComboBoxProperties;
            (column.PropertiesEdit as DateEditProperties).DisplayFormatString = "HH:mm:ss";
            (column.PropertiesEdit as DateEditProperties).EditFormatString = "HH:mm:ss";
            (column.PropertiesEdit as DateEditProperties).EditFormat = EditFormat.Custom;
            (column.PropertiesEdit as DateEditProperties).DisplayFormatInEditMode = true;
            (column.PropertiesEdit as DateEditProperties).ClientSideEvents.DropDown = "OnDropDown";
            (column.PropertiesEdit as DateEditProperties).DropDownButton.ClientVisible = false;


            //   comboBoxProperties.DataSource = NorthwindDataProvider.GetCategories();
            //comboBoxProperties.TextField = "ApptTime";
            //comboBoxProperties.ValueField = "ApptTime";
            //comboBoxProperties.ValueType = typeof(DateTime);
        });
        //  settings.Columns.Add("DetentionStarts");
        settings.Columns.Add(column =>
        {
            column.FieldName = "DetentionStarts";
            column.Caption = "DetentionStarts";

            column.ColumnType = MVCxGridViewColumnType.DateEdit;
            var comboBoxProperties = column.PropertiesEdit as ComboBoxProperties;
            //   comboBoxProperties.DataSource = NorthwindDataProvider.GetCategories();
            //comboBoxProperties.TextField = "ApptTime";
            //comboBoxProperties.ValueField = "ApptTime";
            //comboBoxProperties.ValueType = typeof(DateTime);
        });
        settings.Columns.Add(column =>
        {

            column.FieldName = "Origin";
            column.Caption = "Origin";

            column.ColumnType = MVCxGridViewColumnType.ComboBox;
            var comboBoxProperties = column.PropertiesEdit as ComboBoxProperties;
            comboBoxProperties.DataSource = ViewBag.Origin;

            comboBoxProperties.ValueType = typeof(string);


        });
        settings.Columns.Add(column =>
        {

            column.FieldName = "Destination";
            column.Caption = "Destination";

            column.ColumnType = MVCxGridViewColumnType.ComboBox;
            var comboBoxProperties = column.PropertiesEdit as ComboBoxProperties;
            comboBoxProperties.DataSource = ViewBag.Destination;

            comboBoxProperties.ValueType = typeof(string);


        });
        //settings.Columns.Add("DepartTime");
        settings.Columns.Add(column =>
        {
            column.FieldName = "DepartTime";
            column.Caption = "DepartTime";

            column.ColumnType = MVCxGridViewColumnType.DateEdit;
            (column.PropertiesEdit as DateEditProperties).DisplayFormatString = "HH:mm:ss";
            (column.PropertiesEdit as DateEditProperties).EditFormatString = "HH:mm:ss";
            (column.PropertiesEdit as DateEditProperties).EditFormat = EditFormat.Custom;
            (column.PropertiesEdit as DateEditProperties).DisplayFormatInEditMode = true;
            (column.PropertiesEdit as DateEditProperties).ClientSideEvents.DropDown = "OnDropDown";
            (column.PropertiesEdit as DateEditProperties).ClientSideEvents.CalendarCustomDisabledDate = "";
            (column.PropertiesEdit as DateEditProperties).DropDownButton.ClientVisible = false;




        });
        settings.Columns.Add(column =>
        {
            column.FieldName = "ArrivalTime";
            column.Caption = "ArrivalTime";

            column.ColumnType = MVCxGridViewColumnType.DateEdit;
            (column.PropertiesEdit as DateEditProperties).DisplayFormatString = "HH:mm:ss";
            (column.PropertiesEdit as DateEditProperties).EditFormatString = "HH:mm:ss";
            (column.PropertiesEdit as DateEditProperties).EditFormat = EditFormat.Custom;
            (column.PropertiesEdit as DateEditProperties).DisplayFormatInEditMode = true;
            (column.PropertiesEdit as DateEditProperties).ClientSideEvents.DropDown = "OnDropDown";
            (column.PropertiesEdit as DateEditProperties).DropDownButton.ClientVisible = false;


        });
        settings.Columns.Add(column =>
        {

            column.FieldName = "PayType";
            column.Caption = "PayType";

            column.ColumnType = MVCxGridViewColumnType.ComboBox;
            var comboBoxProperties = column.PropertiesEdit as ComboBoxProperties;
            comboBoxProperties.DataSource = ViewBag.PayType;

            comboBoxProperties.ValueType = typeof(string);


        });


        // settings.Columns.Add("PayType");

        settings.Columns.Add(column =>
        {
            column.FieldName = "LineHaulAmountTruck";
            column.UnboundType = DevExpress.Data.UnboundColumnType.Decimal;
            column.PropertiesEdit.DisplayFormatString = "c";
        });

        settings.Columns.Add(column =>
        {
            column.FieldName = "FSAmountTruck";
            column.UnboundType = DevExpress.Data.UnboundColumnType.Decimal;
            column.PropertiesEdit.DisplayFormatString = "c";
        });

        // settings.Columns.Add("TotalAmountTruck");
        settings.Columns.Add(column =>
        {
            column.FieldName = "TotalAmountTruck";
            column.UnboundType = DevExpress.Data.UnboundColumnType.Decimal;
            column.PropertiesEdit.DisplayFormatString = "c";
        });

    });
    if (ViewData["EditError"] != null){
        grid.SetEditErrorText((string)ViewData["EditError"]);
    }
}
@grid.Bind(Model).GetHtml()